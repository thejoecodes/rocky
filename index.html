<!DOCTYPE html>

<html>
    <head>
		<meta charset="UTF-8">
        <title>Rock Paper Scissor Game</title>
    </head>

    <body>
        <script>
            	
	        function computerSelection() { 
			let choices = ['rock','paper','scissors'];
	        var rand = choices[Math.floor(Math.random() * choices.length)];
	        return rand;
	        }
	
			function playerPlay(){
			var userInput= prompt("Rock? Paper? Scissors? \n Enter your choice").toLowerCase();
			return userInput;
			}

			function playRound(computerPlay, playerSelection) {
            var result;
            if (computerPlay == playerSelection) {
                result = `tie`;
                console.log(`Player: ` + playerSelection);
                console.log(`Computer: ` + computerPlay);
                console.log(`It's a tie! Play another round.`);
                return result;
            } else if (
                (computerPlay == `rock` && playerSelection == `scissors`) ||
                (computerPlay == `scissors` && playerSelection == `paper`) ||
                (computerPlay == `paper` && playerSelection == `rock`)
            ) {
                computerPlay = computerPlay.substr(0, 1).toUpperCase() + computerPlay.substr(1);
                result = `computer`;
                console.log(`Player: ` + playerSelection);
                console.log(`Computer: ` + computerPlay.toLowerCase());
                console.log(`You lost this round.  ` + computerPlay + ` beats ` + playerSelection + `.`);
                return result;
            } else {
                playerSelection = playerSelection.substr(0, 1).toUpperCase() + playerSelection.substr(1);
                result = `player`;
                console.log(`Player: ` + playerSelection.toLowerCase());
                console.log(`Computer: ` + computerPlay);
                console.log(`You won this round.  ` + playerSelection + ` beats ` + computerPlay + `.`);
                return result;
            }
        }


        function game() {
            let rounds = 1;
            let compScore = 0;
            let playerScore = 0;
            do{
                console.log(`Round: ` + rounds);
                let roundResult = playRound(computerSelection(), playerPlay());
                if (roundResult == `player`) {
                    playerScore = ++playerScore;
                    rounds = ++rounds;
                } else if (roundResult == `computer`) {
                    compScore = ++compScore;
                    rounds = ++rounds;
                }
                console.log(`Computer Score:` + compScore);
                console.log(`Player Score:` + playerScore);
            }
            while (rounds <= 5);

            if (compScore > playerScore) {
                console.log(`The computer wins!`);
            } else {
                console.log(`You win!`);
            }
            
        }
        game();
        
        </script>


    </body>

</html>